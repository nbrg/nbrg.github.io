<% content_for(:title, "#{team.name} (#{year})") %>
<% captains = [lineup.captain].flatten.map { |id| data.players[id] }.sort_by(&:name) %>
<% players = lineup.players.map {|id| data.players[id] }.sort_by(&:name) %>
<h1><%= team.name %> (<%= year %>)</h1>
<ul class="lineup">
  <% captains.each do |player| %>
    <li><%= partial 'teams/player', locals: { player: player, role: 'Captain' } %></li>
  <% end %>
</ul>
<ul class="lineup">
  <% (players - captains).each do |player| %>
    <li><%= partial 'teams/player', locals: { player: player, role: nil } %></li>
  <% end %>
</ul>

<ul class="lineup">
  <li><%= partial 'teams/player', locals: { player: data.staff[lineup.bench], role: 'Bench Manager' } %></li>
  <li><%= partial 'teams/player', locals: { player: data.staff[lineup.lineup], role: 'Lineup Manager' } %></li>
</ul>
